<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>

  <link rel="stylesheet" href="./style/style.css">
</head>

<body>

  <div class="question1 ">
    <div class="left ">
      <div class="question-content-width">

        <div class="question-number">Q1</div>
        <div class="question-desc">
          If one day you get a gift that can change the rule of the world, which ability will you choose
        </div>
        <div class="choose-answer">Choose the answer appeared in your mind instantly</div>
        <div class="answers">
          <button>Destroy all humans in the world</button>
          <button>Make the war never happened</button>
          <button>You wonâ€™t get old and live forever</button>
        </div>

      </div>
    </div>
    <div class="right">
      <div class="triangle"></div>
      <div class="rect"></div>
      <div class="circle"></div>
    </div>
  </div>

  <div class="question2 inactive">
    <div class="left">
      <div class="triangle"></div>
      <div class="rect"></div>
      <div class="circle"></div>
    </div>
    <div class="right">
      <div class="question-content-width">

        <div class="question-number">Q2</div>
        <div class="question-desc">
          Image you're almost late, but totally lost at a forked road. Which way do yuu prefer to go?
        </div>
        <div class="choose-answer">Choose the answer appeared in your mind instantly</div>
        <div class="answers">
          <button>The left one</button>
          <button>The right one</button>
          <button>Open Google Map</button>
        </div>

      </div>
    </div>

  </div>
  <div class="all-done inactive">
    <div class="title">All Done!</div>
    <div class="subtitle">Keep scrolling to show the result</div>
    <div class="circle circle1"></div>
    <div class="circle circle2"></div>
    <div class="circle circle3"></div>
    <div class="circle circle4"></div>
    <div class="circle circle5"></div>
    <div class="circle circle6"></div>
    <div class="circle circle7"></div>
    <div class="circle circle8"></div>
    <div class="circle circle9"></div>
    <div class="circle circle10"></div>
    <div class="circle circle11"></div>
    <div class="circle circle12"></div>
    <div class="circle circle13"></div>
    <div class="circle circle14"></div>
    <div class="circle circle15"></div>
    <div class="circle circle16"></div>
    <div class="circle circle17"></div>
    <div class="circle circle18"></div>
    <div class="circle circle19"></div>
    <div class="circle circle20"></div>
    <div class="circle circle21"></div>
    <div class="circle circle22"></div>
    <div class="circle circle23"></div>
    <div class="circle circle24"></div>
    <div class="circle circle25"></div>
    <div class="circle circle26"></div>
    <div class="circle circle27"></div>
    <div class="circle circle28"></div>
    <div class="circle circle29"></div>
    <div class="circle circle30"></div>
    <div class="circle circle31"></div>
    <div class="circle circle32"></div>
    <div class="circle circle33"></div>
    <div class="circle circle34"></div>
    <div class="circle circle35"></div>
    <div class="circle circle36"></div>
    <div class="circle circle37"></div>
    <div class="circle circle38"></div>
    <div class="circle circle39"></div>
    <div class="circle circle40"></div>
    <div class="circle circle41"></div>
    <div class="circle circle42"></div>
    <div class="circle circle43"></div>
    <div class="circle circle44"></div>
    <div class="circle circle45"></div>
    <div class="circle circle46"></div>
    <div class="circle circle47"></div>
    <div class="circle circle48"></div>
    <div class="circle circle49"></div>
    <div class="circle circle50"></div>
    <div class="rect rect1"></div>
    <div class="rect rect2"></div>
    <div class="rect rect3"></div>
    <div class="rect rect4"></div>
    <div class="rect rect5"></div>
    <div class="rect rect6"></div>
    <div class="rect rect7"></div>
    <div class="rect rect8"></div>
    <div class="rect rect9"></div>
    <div class="rect rect10"></div>
    <div class="rect rect11"></div>
    <div class="rect rect12"></div>
    <div class="rect rect13"></div>
    <div class="rect rect14"></div>
    <div class="rect rect15"></div>
    <div class="rect rect16"></div>
    <div class="rect rect17"></div>
    <div class="rect rect18"></div>
    <div class="rect rect19"></div>
    <div class="rect rect20"></div>
    <div class="rect rect21"></div>
    <div class="rect rect22"></div>
    <div class="rect rect23"></div>
    <div class="rect rect24"></div>
    <div class="rect rect25"></div>
    <div class="rect rect26"></div>
    <div class="rect rect27"></div>
    <div class="rect rect28"></div>
    <div class="rect rect29"></div>
    <div class="rect rect30"></div>
    <div class="rect rect31"></div>
    <div class="rect rect32"></div>
    <div class="rect rect33"></div>
    <div class="rect rect34"></div>
    <div class="rect rect35"></div>
    <div class="rect rect36"></div>
    <div class="rect rect37"></div>
    <div class="rect rect38"></div>
    <div class="rect rect39"></div>
    <div class="rect rect40"></div>
    <div class="rect rect41"></div>
    <div class="rect rect42"></div>
    <div class="rect rect43"></div>
    <div class="rect rect44"></div>
    <div class="rect rect45"></div>
    <div class="rect rect46"></div>
    <div class="rect rect47"></div>
    <div class="rect rect48"></div>
    <div class="rect rect49"></div>
    <div class="rect rect50"></div>
  </div>
  <div class="result inactive">

    <div class="small-rect pink small-rect1"></div>
    <div class="small-rect pink small-rect2"></div>
    <div class="small-rect pink small-rect3"></div>
    <div class="small-rect black small-rect4"></div>
    <div class="small-rect black small-rect5"></div>
    <div class="small-rect black small-rect6"></div>
    <div class="normal-rect black normal-rect1"></div>
    <div class="normal-rect pink normal-rect2"></div>
    <div class="normal-rect white normal-rect3"></div>
  </div>

  <script>
    let q1Right = document.querySelector('.question1 .right');
    let q1 = document.querySelector('.question1');
    let q2 = document.querySelector('.question2');
    let allDonePage = document.querySelector('.all-done');
    let buttonsQ1 = Array.from(document.querySelectorAll('.question1 button'));
    let buttonsQ2 = Array.from(document.querySelectorAll('.question2 button'));
    let resultPage = document.querySelector('.result');

    buttonsQ1.map(button => {
      button.addEventListener('click', () => {
        answerQ1();
      })
    })

    buttonsQ2.map(button => {
      button.addEventListener('click', () => {
        answerQ2();
      })
    })

    window.addEventListener('scroll', (e) => {
      console.log(window.pageYOffset);
      let ani1 = document.querySelector('.ani-1');
      let circles = Array.from(document.querySelectorAll('.all-done .circle'));
      let rects = Array.from(document.querySelectorAll('.all-done .rect'));
      if (window.pageYOffset > 3000) {
        allDonePage.classList.remove('active');
        allDonePage.classList.add('end');

        setTimeout(() => {
          switchToResult();
        }, 1000)

      } else if (window.pageYOffset > 2000) {
        circles.map(circle => {
          circle.classList.remove('active');
        })
        rects.map(rect => {
          rect.classList.add('active');
        })
      } else if (window.pageYOffset > 1000) {
        circles.map(circle => {
          circle.classList.add('active');
        })
      } else {

        circles.map(circle => {
          circle.classList.remove('active');
        })
        rects.map(rect => {
          rect.classList.remove('active');
        })
      }
    })

    function startQ1() {
      q1Right.classList.add('active');
    }

    function answerQ1() {
      q1.classList.add('inactive');
      q2.classList.remove('inactive');
      q2.classList.add('start');

      setTimeout(() => {
        startQ2();
      }, 2500);
    }

    function startQ2() {
      q2.classList.remove('start');
      // q2.classList.add('active');
      setTimeout(() => {
        document.querySelector('.question2 .left').classList.add("active");
      }, 2000);
    }

    function answerQ2() {
      q2.classList.add('end');

      setTimeout(() => {
        q2.classList.remove('end');
        q2.classList.add('inactive');
        allDonePage.classList.remove('inactive');

        setTimeout(() => {
          startAllDone();
        })
      }, 2500);
    }

    function startAllDone() {
      allDonePage.classList.add('active');
    }

    function switchToResult() {
      allDonePage.classList.add('inactive');
      resultPage.classList.remove('inactive');

      setTimeout(() => {
        startResult();
      }, 1000)
    }

    function startResult() {
      resultPage.classList.add('active');
    }

    startQ1();

  </script>
</body>

</html>
